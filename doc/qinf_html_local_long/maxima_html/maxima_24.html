<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on July, 31 2008 by texi2html 1.76 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<head>
<title>Maxima Manual: 24. Arrays</title>

<meta name="description" content="Maxima Manual: 24. Arrays">
<meta name="keywords" content="Maxima Manual: 24. Arrays">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.76">
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
body
{
    color: black;
    background: white; 
    margin-left: 8%;
    margin-right: 13%;
}

h1
{
    margin-left: +8%;
    font-size: 150%;
    font-family: sans-serif
}

h2
{
    font-size: 125%;
    font-family: sans-serif
}

h3
{
    font-size: 100%;
    font-family: sans-serif
}

h2,h3,h4,h5,h6 { margin-left: +4%; }

div.textbox
{
    border: solid;
    border-width: thin;
    /* width: 100%; */
    padding-top: 1em;
    padding-bottom: 1em;
    padding-left: 2em;
    padding-right: 2em
}

div.titlebox
{
    border: none;
    padding-top: 1em;
    padding-bottom: 1em;
    padding-left: 2em;
    padding-right: 2em;
    background: rgb(200,255,255);
    font-family: sans-serif
}

div.synopsisbox
{
    border: none;
    padding-top: 1em;
    padding-bottom: 1em;
    padding-left: 2em;
    padding-right: 2em;
     background: rgb(255,220,255);
    /*background: rgb(200,255,255); */
    /* font-family: fixed */
}

pre.example
{
    border: 1px solid gray;
    padding-top: 1em;
    padding-bottom: 1em;
    padding-left: 1em;
    padding-right: 1em;
    /* background: rgb(247,242,180); */ /* kind of sandy */
    /* background: rgb(200,255,255); */ /* sky blue */
    background-color: #F1F5F9; /* light blue-gray */
    /* font-family: "Lucida Console", monospace */
}

div.spacerbox
{
    border: none;
    padding-top: 2em;
    padding-bottom: 2em
}

div.image
{
    margin: 0;
    padding: 1em;
    text-align: center;
}

div.categorybox
{
    border: 1px solid gray;
    padding-top: 0px;
    padding-bottom: 0px;
    padding-left: 1em;
    padding-right: 1em;
    background: rgb(247,242,220);
}


-->
</style>

<link rel="icon" href="http://maxima.sourceforge.net/favicon.ico"/>
</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Arrays"></a>
<a name="SEC79"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="maxima_23.html#SEC78" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC80" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima_23.html#SEC74" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_25.html#SEC81" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_78.html#SEC314" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 24. Arrays </h1>


<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC80">24.1 Functions and Variables for Arrays</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
</table>

<p><a name="Item_003a-Functions-and-Variables-for-Arrays"></a>
</p><hr size="6">
<a name="Functions-and-Variables-for-Arrays"></a>
<a name="SEC80"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC79" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima_25.html#SEC81" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC79" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_25.html#SEC81" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_78.html#SEC314" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 24.1 Functions and Variables for Arrays </h2>

<p><a name="Item_003a-array"></a>
</p><dl>
<dt><u>Function:</u> <b>array</b><i> (<var>name</var>, <var>dim_1</var>, ..., <var>dim_n</var>)</i>
<a name="IDX754"></a>
</dt>
<dt><u>Function:</u> <b>array</b><i> (<var>name</var>, <var>type</var>, <var>dim_1</var>, ..., <var>dim_n</var>)</i>
<a name="IDX755"></a>
</dt>
<dt><u>Function:</u> <b>array</b><i> ([<var>name_1</var>, ..., <var>name_m</var>], <var>dim_1</var>, ..., <var>dim_n</var>)</i>
<a name="IDX756"></a>
</dt>
<dd><p>Creates an <em>n</em>-dimensional array.  
<em>n</em> may be less than or equal to 5.
The subscripts for
the <em>i</em>'th dimension are the integers running from 0 to <var>dim_i</var>.  
</p>
<p><code>array (<var>name</var>, <var>dim_1</var>, ..., <var>dim_n</var>)</code> creates a general array.
</p>
<p><code>array (<var>name</var>, <var>type</var>, <var>dim_1</var>, ..., <var>dim_n</var>)</code> creates
an array, with elements of a specified type.
<var>type</var> can be <code>fixnum</code> for
integers of limited size or <code>flonum</code> for floating-point numbers.
</p>
<p><code>array ([<var>name_1</var>, ..., <var>name_m</var>], <var>dim_1</var>, ..., <var>dim_n</var>)</code>
creates <em>m</em> arrays, all of the same dimensions.
</p>
<p>If the user assigns to a subscripted variable before declaring the
corresponding array, an undeclared array is created.
Undeclared arrays, otherwise known as hashed arrays (because hash
coding is done on the subscripts), are more general than declared
arrays.  The user does not declare their maximum size, and they grow
dynamically by hashing as more elements are assigned values.  The
subscripts of undeclared arrays need not even be numbers.  However,
unless an array is rather sparse, it is probably more efficient to
declare it when possible than to leave it undeclared.  The <code>array</code>
function can be used to transform an undeclared array into a declared
array.
</p>
<div class=categorybox>

&middot;
<p>@ref{Category: Arrays}
</p>
</div>

</dd></dl>

<p><a name="Item_003a-arrayapply"></a>
</p><dl>
<dt><u>Function:</u> <b>arrayapply</b><i> (<var>A</var>, [<var>i_1</var>, ..., <var>i_n</var>])</i>
<a name="IDX757"></a>
</dt>
<dd><p>Evaluates <code><var>A</var> [<var>i_1</var>, ..., <var>i_n</var>]</code>,
where <var>A</var> is an array and <var>i_1</var>, ..., <var>i_n</var> are integers.
</p>
<p>This is reminiscent of <code>apply</code>, except the first argument is an array instead of a function.
</p>
<div class=categorybox>

&middot;
<p>@ref{Category: Expressions}
 &middot;
@ref{Category: Arrays}
</p>
</div>

</dd></dl>

<p><a name="Item_003a-arrayinfo"></a>
</p><dl>
<dt><u>Function:</u> <b>arrayinfo</b><i> (<var>A</var>)</i>
<a name="IDX758"></a>
</dt>
<dd><p>Returns information about the array <var>A</var>.
The argument <var>A</var> may be a declared array, an undeclared (hashed) array,
an array function, or a subscripted function.
</p>
<p>For declared arrays, <code>arrayinfo</code> returns a list
comprising the atom <code>declared</code>, the number of dimensions, and the size of each dimension.
The elements of the array, both bound and unbound, are returned by <code>listarray</code>.
</p>
<p>For undeclared arrays (hashed arrays),
<code>arrayinfo</code> returns a list comprising the atom <code>hashed</code>, the number of subscripts,
and the subscripts of every element which has a value.
The values are returned by <code>listarray</code>.
</p>
<p>For array functions,
<code>arrayinfo</code> returns a list comprising the atom <code>hashed</code>, the number of subscripts,
and any subscript values for which there are stored function values.
The stored function values are returned by <code>listarray</code>.
</p>
<p>For subscripted functions,
<code>arrayinfo</code> returns a list comprising the atom <code>hashed</code>, the number of subscripts,
and any subscript values for which there are lambda expressions.
The lambda expressions are returned by <code>listarray</code>.
</p>
<p>Examples:
</p>
<p><code>arrayinfo</code> and <code>listarray</code> applied to a declared array.
</p>
<pre class="example">(%i1) array (aa, 2, 3);
(%o1)                          aa
(%i2) aa [2, 3] : %pi;
(%o2)                          %pi
(%i3) aa [1, 2] : %e;
(%o3)                          %e
(%i4) arrayinfo (aa);
(%o4)                 [declared, 2, [2, 3]]
(%i5) listarray (aa);
(%o5) [#####, #####, #####, #####, #####, #####, %e, #####, 
                                        #####, #####, #####, %pi]
</pre>
<p><code>arrayinfo</code> and <code>listarray</code> applied to an undeclared (hashed) array.
</p>
<pre class="example">(%i1) bb [FOO] : (a + b)^2;
                                   2
(%o1)                       (b + a)
(%i2) bb [BAR] : (c - d)^3;
                                   3
(%o2)                       (c - d)
(%i3) arrayinfo (bb);
(%o3)               [hashed, 1, [BAR], [FOO]]
(%i4) listarray (bb);
                              3         2
(%o4)                 [(c - d) , (b + a) ]
</pre>
<p><code>arrayinfo</code> and <code>listarray</code> applied to an array function.
</p>
<pre class="example">(%i1) cc [x, y] := y / x;
                                     y
(%o1)                      cc     := -
                             x, y    x
(%i2) cc [u, v];
                                v
(%o2)                           -
                                u
(%i3) cc [4, z];
                                z
(%o3)                           -
                                4
(%i4) arrayinfo (cc);
(%o4)              [hashed, 2, [4, z], [u, v]]
(%i5) listarray (cc);
                              z  v
(%o5)                        [-, -]
                              4  u
</pre>
<p><code>arrayinfo</code> and <code>listarray</code> applied to a subscripted function.
</p>
<pre class="example">(%i1) dd [x] (y) := y ^ x;
                                     x
(%o1)                     dd (y) := y
                            x
(%i2) dd [a + b];
                                    b + a
(%o2)                  lambda([y], y     )
(%i3) dd [v - u];
                                    v - u
(%o3)                  lambda([y], y     )
(%i4) arrayinfo (dd);
(%o4)             [hashed, 1, [b + a], [v - u]]
(%i5) listarray (dd);
                         b + a                v - u
(%o5)      [lambda([y], y     ), lambda([y], y     )]
</pre>
<div class=categorybox>

&middot;
<p>@ref{Category: Arrays}
</p>
</div>

</dd></dl>

<p><a name="Item_003a-arraymake"></a>
</p><dl>
<dt><u>Function:</u> <b>arraymake</b><i> (<var>A</var>, [<var>i_1</var>, ..., <var>i_n</var>])</i>
<a name="IDX759"></a>
</dt>
<dd><p>Returns the expression <code><var>A</var>[<var>i_1</var>, ..., <var>i_n</var>]</code>.
The result is an unevaluated array reference.
</p>
<p><code>arraymake</code> is reminiscent of <code>funmake</code>,
except the return value is an unevaluated array reference
instead of an unevaluated function call.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) arraymake (A, [1]);
(%o1)                          A
                                1
(%i2) arraymake (A, [k]);
(%o2)                          A
                                k
(%i3) arraymake (A, [i, j, 3]);
(%o3)                       A
                             i, j, 3
(%i4) array (A, fixnum, 10);
(%o4)                           A
(%i5) fillarray (A, makelist (i^2, i, 1, 11));
(%o5)                           A
(%i6) arraymake (A, [5]); 
(%o6)                          A
                                5
(%i7) ''%;
(%o7)                          36
(%i8) L : [a, b, c, d, e];
(%o8)                    [a, b, c, d, e]
(%i9) arraymake ('L, [n]);
(%o9)                          L
                                n
(%i10) ''%, n = 3;
(%o10)                          c
(%i11) A2 : make_array (fixnum, 10);
(%o11)          {Array:  #(0 0 0 0 0 0 0 0 0 0)}
(%i12) fillarray (A2, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
(%o12)          {Array:  #(1 2 3 4 5 6 7 8 9 10)}
(%i13) arraymake ('A2, [8]);
(%o13)                         A2
                                 8
(%i14) ''%;
(%o14)                          9
</pre>
<div class=categorybox>

&middot;
<p>@ref{Category: Expressions}
 &middot;
@ref{Category: Arrays}
</p>
</div>

</dd></dl>

<p><a name="Item_003a-arrays"></a>
</p><dl>
<dt><u>System variable:</u> <b>arrays</b>
<a name="IDX760"></a>
</dt>
<dd><p>Default value: <code>[]</code>
</p>
<p><code>arrays</code> is a list of arrays that have been allocated.
These comprise arrays declared by <code>array</code>,
hashed arrays constructed by implicit definition (assigning something to an array element),
and array functions defined by <code>:=</code> and <code>define</code>.
Arrays defined by <code>make_array</code> are not included.
</p>
<p>See also
<code>array</code>, <code>arrayapply</code>, <code>arrayinfo</code>, <code>arraymake</code>, 
<code>fillarray</code>, <code>listarray</code>, and <code>rearray</code>.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) array (aa, 5, 7);
(%o1)                          aa
(%i2) bb [FOO] : (a + b)^2;
                                   2
(%o2)                       (b + a)
(%i3) cc [x] := x/100;
                                   x
(%o3)                      cc  := ---
                             x    100
(%i4) dd : make_array ('any, 7);
(%o4)       {Array:  #(NIL NIL NIL NIL NIL NIL NIL)}
(%i5) arrays;
(%o5)                     [aa, bb, cc]
</pre>
<div class=categorybox>

&middot;
<p>@ref{Category: Arrays}
 &middot;
@ref{Category: Global variables}
</p>
</div>


</dd></dl>

<p><a name="Item_003a-bashindices"></a>
</p><dl>
<dt><u>Function:</u> <b>bashindices</b><i> (<var>expr</var>)</i>
<a name="IDX761"></a>
</dt>
<dd><p>Transforms the expression <var>expr</var> by giving each
summation and product a unique index. This gives <code>changevar</code> greater
precision when it is working with summations or products.  The form of
the unique index is <code>j<var>number</var></code>. The quantity <var>number</var> is determined by
referring to <code>gensumnum</code>, which can be changed by the user.  For
example, <code>gensumnum:0$</code> resets it.
</p>
<div class=categorybox>

&middot;
<p>@ref{Category: Sums and products}
</p>
</div>

</dd></dl>

<p><a name="Item_003a-fillarray"></a>
</p><dl>
<dt><u>Function:</u> <b>fillarray</b><i> (<var>A</var>, <var>B</var>)</i>
<a name="IDX762"></a>
</dt>
<dd><p>Fills array <var>A</var> from <var>B</var>, which is a list or an array.
</p>
<p>If a specific type was declared for <var>A</var> when it was created,
it can only be filled with elements of that same type;
it is an error if an attempt is made to copy an element of a different type.
</p>
<p>If the dimensions of the arrays <var>A</var> and <var>B</var> are
different, <var>A</var> is filled in row-major order.  If there are not enough
elements in <var>B</var> the last element is used to fill out the
rest of <var>A</var>.  If there are too many, the remaining ones are ignored.
</p>
<p><code>fillarray</code> returns its first argument.
</p>
<p>Examples:
</p>
<p>Create an array of 9 elements and fill it from a list.
</p>
<pre class="example">(%i1) array (a1, fixnum, 8);
(%o1)                          a1
(%i2) listarray (a1);
(%o2)              [0, 0, 0, 0, 0, 0, 0, 0, 0]
(%i3) fillarray (a1, [1, 2, 3, 4, 5, 6, 7, 8, 9]);
(%o3)                          a1
(%i4) listarray (a1);
(%o4)              [1, 2, 3, 4, 5, 6, 7, 8, 9]
</pre>
<p>When there are too few elements to fill the array,
the last element is repeated.
When there are too many elements,
the extra elements are ignored.
</p>
<pre class="example">(%i1) a2 : make_array (fixnum, 8);
(%o1)             {Array:  #(0 0 0 0 0 0 0 0)}
(%i2) fillarray (a2, [1, 2, 3, 4, 5]);
(%o2)             {Array:  #(1 2 3 4 5 5 5 5)}
(%i3) fillarray (a2, [4]);
(%o3)             {Array:  #(4 4 4 4 4 4 4 4)}
(%i4) fillarray (a2, makelist (i, i, 1, 100));
(%o4)             {Array:  #(1 2 3 4 5 6 7 8)}
</pre>
<p>Multple-dimension arrays are filled in row-major order.
</p>
<pre class="example">(%i1) a3 : make_array (fixnum, 2, 5);
(%o1)        {Array:  #2A((0 0 0 0 0) (0 0 0 0 0))}
(%i2) fillarray (a3, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
(%o2)        {Array:  #2A((1 2 3 4 5) (6 7 8 9 10))}
(%i3) a4 : make_array (fixnum, 5, 2);
(%o3)     {Array:  #2A((0 0) (0 0) (0 0) (0 0) (0 0))}
(%i4) fillarray (a4, a3);
(%o4)     {Array:  #2A((1 2) (3 4) (5 6) (7 8) (9 10))}
</pre>
<div class=categorybox>

&middot;
<p>@ref{Category: Arrays}
</p>
</div>

</dd></dl>

<p><a name="Item_003a-listarray"></a>
</p><dl>
<dt><u>Function:</u> <b>listarray</b><i> (<var>A</var>)</i>
<a name="IDX763"></a>
</dt>
<dd><p>Returns a list of the elements of the array <var>A</var>.
The argument <var>A</var> may be a declared array, an undeclared (hashed) array,
an array function, or a subscripted function.
</p>
<p>Elements are listed in row-major order.
That is, elements are sorted according to the first index, then according to the second index, and so on.
The sorting order of index values is the same as the order established by <code>orderless</code>.
</p>
<p>For undeclared arrays, array functions, and subscripted functions,
the elements correspond to the index values returned by <code>arrayinfo</code>.
</p>
<p>Unbound elements of declared general arrays (that is, not <code>fixnum</code> and not <code>flonum</code>)
are returned as <code>#####</code>.
Unbound elements of declared <code>fixnum</code> or <code>flonum</code> arrays
are returned as 0 or 0.0, respectively.
Unbound elements of undeclared arrays, array functions,
and subscripted functions are not returned.
</p>
<p>Examples:
</p>
<p><code>listarray</code> and <code>arrayinfo</code> applied to a declared array.
</p>
<pre class="example">(%i1) array (aa, 2, 3);
(%o1)                          aa
(%i2) aa [2, 3] : %pi;
(%o2)                          %pi
(%i3) aa [1, 2] : %e;
(%o3)                          %e
(%i4) listarray (aa);
(%o4) [#####, #####, #####, #####, #####, #####, %e, #####, 
                                        #####, #####, #####, %pi]
(%i5) arrayinfo (aa);
(%o5)                 [declared, 2, [2, 3]]
</pre>
<p><code>listarray</code> and <code>arrayinfo</code> applied to an undeclared (hashed) array.
</p>
<pre class="example">(%i1) bb [FOO] : (a + b)^2;
                                   2
(%o1)                       (b + a)
(%i2) bb [BAR] : (c - d)^3;
                                   3
(%o2)                       (c - d)
(%i3) listarray (bb);
                              3         2
(%o3)                 [(c - d) , (b + a) ]
(%i4) arrayinfo (bb);
(%o4)               [hashed, 1, [BAR], [FOO]]
</pre>
<p><code>listarray</code> and <code>arrayinfo</code> applied to an array function.
</p>
<pre class="example">(%i1) cc [x, y] := y / x;
                                     y
(%o1)                      cc     := -
                             x, y    x
(%i2) cc [u, v];
                                v
(%o2)                           -
                                u
(%i3) cc [4, z];
                                z
(%o3)                           -
                                4
(%i4) listarray (cc);
                              z  v
(%o4)                        [-, -]
                              4  u
(%i5) arrayinfo (cc);
(%o5)              [hashed, 2, [4, z], [u, v]]
</pre>
<p><code>listarray</code> and <code>arrayinfo</code> applied to a subscripted function.
</p>
<pre class="example">(%i1) dd [x] (y) := y ^ x;
                                     x
(%o1)                     dd (y) := y
                            x
(%i2) dd [a + b];
                                    b + a
(%o2)                  lambda([y], y     )
(%i3) dd [v - u];
                                    v - u
(%o3)                  lambda([y], y     )
(%i4) listarray (dd);
                         b + a                v - u
(%o4)      [lambda([y], y     ), lambda([y], y     )]
(%i5) arrayinfo (dd);
(%o5)             [hashed, 1, [b + a], [v - u]]
</pre>
<div class=categorybox>

&middot;
<p>@ref{Category: Arrays}
</p>
</div>

</dd></dl>

<p><a name="Item_003a-make_005farray"></a>
</p><dl>
<dt><u>Function:</u> <b>make_array</b><i> (<var>type</var>, <var>dim_1</var>, ..., <var>dim_n</var>)</i>
<a name="IDX764"></a>
</dt>
<dd><p>Creates and returns a Lisp array.  <var>type</var> may
be <code>any</code>, <code>flonum</code>, <code>fixnum</code>, <code>hashed</code> or 
<code>functional</code>.
There are <em>n</em> indices,
and the <em>i</em>'th index runs from 0 to <em><var>dim_i</var> - 1</em>.
</p>
<p>The advantage of <code>make_array</code> over <code>array</code> is that the return value doesn't have a
name, and once a pointer to it goes away, it will also go away.
For example, if <code>y: make_array (...)</code> then <code>y</code> points to an object 
which takes up space, but after <code>y: false</code>, <code>y</code> no longer
points to that object, so the object can be garbage collected.  
</p>

<p>Examples:
</p>
<pre class="example">(%i1) A1 : make_array (fixnum, 10);
(%o1)           {Array:  #(0 0 0 0 0 0 0 0 0 0)}
(%i2) A1 [8] : 1729;
(%o2)                         1729
(%i3) A1;
(%o3)          {Array:  #(0 0 0 0 0 0 0 0 1729 0)}
(%i4) A2 : make_array (flonum, 10);
(%o4) {Array:  #(0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0)}
(%i5) A2 [2] : 2.718281828;
(%o5)                      2.718281828
(%i6) A2;
(%o6) 
     {Array:  #(0.0 0.0 2.718281828 0.0 0.0 0.0 0.0 0.0 0.0 0.0)}
(%i7) A3 : make_array (any, 10);
(%o7) {Array:  #(NIL NIL NIL NIL NIL NIL NIL NIL NIL NIL)}
(%i8) A3 [4] : x - y - z;
(%o8)                      - z - y + x
(%i9) A3;
(%o9) {Array:  #(NIL NIL NIL NIL ((MPLUS SIMP) $X ((MTIMES SIMP)\
 -1 $Y) ((MTIMES SIMP) -1 $Z))
  NIL NIL NIL NIL NIL)}
(%i10) A4 : make_array (fixnum, 2, 3, 5);
(%o10) {Array:  #3A(((0 0 0 0 0) (0 0 0 0 0) (0 0 0 0 0)) ((0 0 \
0 0 0) (0 0 0 0 0) (0 0 0 0 0)))}
(%i11) fillarray (A4, makelist (i, i, 1, 2*3*5));
(%o11) {Array:  #3A(((1 2 3 4 5) (6 7 8 9 10) (11 12 13 14 15))
    ((16 17 18 19 20) (21 22 23 24 25) (26 27 28 29 30)))}
(%i12) A4 [0, 2, 1];
(%o12)                         12
</pre>
<div class=categorybox>

&middot;
<p>@ref{Category: Arrays}
</p>
</div>

</dd></dl>

<p><a name="Item_003a-rearray"></a>
</p><dl>
<dt><u>Function:</u> <b>rearray</b><i> (<var>A</var>, <var>dim_1</var>, ..., <var>dim_n</var>)</i>
<a name="IDX765"></a>
</dt>
<dd><p>Changes the dimensions of an array.  
The new array will be filled with the elements of the old one in
row-major order.  If the old array was too small, 
the remaining elements are filled with
<code>false</code>, <code>0.0</code> or <code>0</code>,
depending on the type of the array.  The type of the array cannot be
changed.
</p>
<div class=categorybox>

&middot;
<p>@ref{Category: Arrays}
</p>
</div>

</dd></dl>

<p><a name="Item_003a-remarray"></a>
</p><dl>
<dt><u>Function:</u> <b>remarray</b><i> (<var>A_1</var>, ..., <var>A_n</var>)</i>
<a name="IDX766"></a>
</dt>
<dt><u>Function:</u> <b>remarray</b><i> (all)</i>
<a name="IDX767"></a>
</dt>
<dd><p>Removes arrays and array associated
functions and frees the storage occupied.
The arguments may be declared arrays, undeclared (hashed) arrays, array functions, and subscripted functions.
</p>
<p><code>remarray (all)</code> removes all items in the global list <code>arrays</code>.
</p>
<p>It may be necessary to use this function if it is
desired to redefine the values in a hashed array.
</p>
<p><code>remarray</code> returns the list of arrays removed.
</p>
<div class=categorybox>

&middot;
<p>@ref{Category: Arrays}
</p>
</div>

</dd></dl>

<p><a name="Item_003a-subvar"></a>
</p><dl>
<dt><u>Function:</u> <b>subvar</b><i> (<var>x</var>, <var>i</var>)</i>
<a name="IDX768"></a>
</dt>
<dd><p>Evaluates the subscripted expression <code><var>x</var>[<var>i</var>]</code>.
</p>
<p><code>subvar</code> evaluates its arguments.
</p>
<p><code>arraymake (<var>x</var>, [<var>i</var>]</code> constructs the expression <code><var>x</var>[<var>i</var>]</code>,
but does not evaluate it.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) x : foo $

(%i2) i : 3 $

(%i3) subvar (x, i);
(%o3)                         foo
                                 3
(%i4) foo : [aa, bb, cc, dd, ee]$

(%i5) subvar (x, i);
(%o5)                          cc
(%i6) arraymake (x, [i]);
(%o6)                         foo
                                 3
(%i7) ''%;
(%o7)                          cc
</pre>
<div class=categorybox>

&middot;
<p>@ref{Category: Expressions}
 &middot;
@ref{Category: Arrays}
</p>
</div>

</dd></dl>

<p><a name="Item_003a-use_005ffast_005farrays"></a>
</p><dl>
<dt><u>Option variable:</u> <b>use_fast_arrays</b>
<a name="IDX769"></a>
</dt>
<dd><p>- if <code>true</code> then only two types of arrays are recognized.  
</p>
<p>1) The art-q array (t in Common Lisp) which may have several dimensions
indexed by integers, and may hold any Lisp or Maxima object as an
entry.  To construct such an array, enter <code>a:make_array(any,3,4);</code> 
then <code>a</code> will have as value, an array with twelve slots, and the 
indexing is zero based.
</p>
<p>2) The Hash_table array which is the default type of array created if one
does <code>b[x+1]:y^2</code> (and <code>b</code> is not already an array, a list, or a
matrix - if it were one of these an error would be caused since
<code>x+1</code> would not be a valid subscript for an art-q array, a list or
a matrix). Its indices (also known as keys) may be any object.  
It only takes one key at a time (<code>b[x+1,u]:y</code> would ignore the <code>u</code>). 
Referencing is done by <code>b[x+1] ==&gt; y^2</code>.  Of course the key may be
a list, e.g. <code>b[[x+1,u]]:y</code> would be valid.  This is incompatible 
with the old Maxima hash arrays, but saves consing.
</p>
<p>An advantage of storing the arrays as values of the symbol is that the
usual conventions about local variables of a function apply to arrays as
well.  The Hash_table type also uses less consing and is more efficient
than the old type of Maxima hashar.  To obtain consistent behaviour in
translated and compiled code set <code>translate_fast_arrays</code> to be
<code>true</code>.
</p>
<div class=categorybox>

&middot;
<p>@ref{Category: Arrays}
 &middot;
@ref{Category: Global flags}
</p>
</div>


</dd></dl>

<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC79" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima_25.html#SEC81" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_78.html#SEC314" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>root</em> on <em>July, 31 2008</em> using <a href="http://texi2html.cvshome.org/"><em>texi2html 1.76</em></a>.
 </font>
 <br>

</p>
</body>
</html>
